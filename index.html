<!DOCTYPE html>
<html>
<head>
	<title>Psychic game</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>

<h1> Psychic Game </h1>

<h2> Guess which letter I am thinking of.
<h3> Wins </h3>  <p id="wins">0</p>
<h3> Losses </h3>  <p id="losses">0</p>
<h3> Chances left </h3>  <p id="chances">9</p>
<h3> Your guesses so far: </h3> <p id="guesses"></p>

<!-- the app randomly picks a letter, and the user has to guess which letter the app chose. Put the following text on your page: -->
<!-- Guess what letter I'm thinking of

Wins: (# of times the user has guessed the letter correctly)

Losses: (# of times the user has failed to guess the letter correctly after exhausting all guesses)

Guesses Left: (# of guesses left. This will update)

Your Guesses So Far: (the specific letters that the user typed. Display these until the user either wins or loses.) --> 

<!-- When the player wins, increase the Wins counter and start the game over again (without refreshing the page). -->

<!-- When the player loses, increase the Losses counter and restart the game without a page refresh (just like when the user wins).
 -->

<script>
document.onkeyup = function(event){

	var wins = document.getElementById("wins").innerHTML;;
	var losses = document.getElementById("losses").innerHTML;;
	var chances = document.getElementById("chances").innerHTML;
	// console.log("Wins="+wins + ",Losses=" + losses + ",Chances left=" + chances);
	
	//capture player key value
	var playerPick = event.key;

	//Append to the letters picked earlier and display
	var appendPicks = document.getElementById("guesses");
	var content = document.createTextNode(playerPick + ", ");
	appendPicks.appendChild(content);
	// console.log(appendPicks.innerHTML);
	

	//computer picks a random letter
	var chars = "abcdefghijklmnopqrstuvwxyz";
	var computerPick =	chars.charAt(Math.floor(Math.random() * chars.length));

	console.log("Player : " + playerPick + ", Computer : " + computerPick);

	if(computerPick == playerPick){
		console.log("You win!" + "Resetting....");
		wins++;
		document.getElementById("wins").innerHTML = wins;
		document.getElementById("chances").innerHTML = 9;
		document.getElementById("guesses").innerHTML="";
	}else if(chances == 0){
		console.log("Resetting.......");
		losses++;
		document.getElementById("chances").innerHTML = 9;
		document.getElementById("losses").innerHTML = losses;
		document.getElementById("guesses").innerHTML= "";
	}else {
		// console.log("You picked different letters");
		chances--;
		document.getElementById("chances").innerHTML = chances;
	}

}

</script>

</body>
</html>